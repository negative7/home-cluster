---
apiVersion: v1
kind: ConfigMap
metadata:
  name: traefik-config
  namespace: networking
data:
  traefik-config.yaml: |
    http:
      routers:
        router-minio:
          entryPoints:
            - websecure
          rule: Host(`minio.${SECRET_DOMAIN}`)
          service: service-minio
        router-homeassistant:
          entryPoints:
            - websecure
          rule: Host(`${SECRET_DOMAIN}`)
          service: service-homeassistant
      services:
        service-minio:
          loadBalancer:
            servers:
            - url: "http://192.168.1.20:9000/"
        service-homeassistant:
          loadBalancer:
            servers:
            - url: "http://192.168.1.5:8123"
